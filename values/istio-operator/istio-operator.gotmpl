{{- $v := .Values }}
{{- $i := $v.apps | get "istio" }}

{{- if $v.otomi.linodeLkeImageRepository }}
hub: "{{- $v.otomi.linodeLkeImageRepository }}/docker/istio"
{{- else}}
hub: "istio"
{{- end }}

tag: 1.22.5

operatorNamespace: istio-operator

operator:
  resources: {{- $i.resources.operator | toYaml | nindent 6 }}

{{- with .Values.otomi | get "globalPullSecret" nil }}
imagePullSecrets:
  - otomi-pullsecret-global
{{- end }}
