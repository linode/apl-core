# Default configuration for APL Network Policies
# Network policies are now configured using simple per-app boolean flags

# The actual network policies configuration comes from defaults.yaml
# This values.yaml file contains only examples for reference

# Example configuration (all commented out):
# Simple on/off switch per application
# netpols:
#   gitea: true     # Enable network policies for Gitea with sensible defaults
#   otomiApi: true  # Enable network policies for otomi-api with sensible defaults

# Network policy behavior when enabled:
#
# For Gitea (netpols.gitea: true):
# - Creates a NetworkPolicy in the gitea namespace
# - Allows ingress from:
#   * Istio public ingress gateway (for web access)
#   * APL Gitea operator (for management)
#   * APL operator (for core management)
#   * APL API (for API access)
#   * Team namespaces with git-clone tasks (for CI/CD)
#   * Monitoring namespace (for metrics)
#   * CNPG system (for database management)
#   * Internal gitea namespace communication
#
# For otomi-api (netpols.otomiApi: true):
# - Creates a NetworkPolicy in the otomi namespace
# - Allows ingress from:
#   * Istio public ingress gateway (for web access)
#   * Gitea namespace (for webhook notifications)
#   * Monitoring namespace (for metrics scraping)
#   * Internal otomi namespace communication
#
# The complex network policy rules are baked into the chart templates,
# so users only need to toggle network policies on/off per application.
