{{- with .Values.config }}
apiVersion: config.gatekeeper.sh/v1alpha1
kind: Config
metadata:
  name: config
  namespace: "gatekeeper-system"
spec:
  {{- with .dataSync }}
  sync:
    syncOnly:
    {{- range $kind := . }}
      - group: {{ $kind.group | quote }}
        version: {{ $kind.version | quote }}
        kind: {{ $kind.kind | quote }}
    {{- end }}
  {{- end }}
  
  {{- with .match }}
  match:
  {{- range $match := . }}
  -  {{ $match | toYaml | nindent 4}} 
  {{- end }}
  {{- end }}
{{- end }}
