{{- $v := .Values }}
{{- range $name, $spec := $v.tasks }}
{{- if and $spec.enabled $spec.config }}
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ $name }}
  labels: {{- include "jobs.labels" $ | nindent 4 }}
data: {{- toYaml $spec.config | nindent 2 }}
---
{{- end }}
{{- end }}
apiVersion: v1
kind: ConfigMap
metadata:
  name: fakeroot
  labels: {{- include "jobs.labels" $ | nindent 4 }}
data:
  fakeroot.pem: |
    Certificate:
        Data:
            Version: 3 (0x2)
            Serial Number:
                a7:3d:64:a0:40:4b:29:b2:e5:32:ce:12:9e:7b:37:df
        Signature Algorithm: sha256WithRSAEncryption
            Issuer: CN=Fake LE Root X1
            Validity
                Not Before: Mar 23 22:53:46 2016 GMT
                Not After : Mar 23 22:53:46 2036 GMT
            Subject: CN=Fake LE Root X1
            Subject Public Key Info:
                Public Key Algorithm: rsaEncryption
                    Public-Key: (4096 bit)
                    Modulus:
                        00:fa:96:07:bd:0c:39:89:4d:ef:d9:bd:e2:36:e6:
                        0d:29:88:2c:58:3e:8a:53:b6:89:76:27:5d:b5:94:
                        31:49:66:33:50:8d:d4:d0:8d:54:b1:13:d3:c6:78:
                        53:89:fb:3f:33:d3:56:e1:99:55:d7:76:5f:07:b0:
                        0f:c0:2f:28:a8:a3:88:8b:0a:3b:23:09:4f:c6:0d:
                        15:2a:0c:b3:fa:44:fc:44:97:d8:af:ae:8f:3c:86:
                        0f:d1:fa:53:7a:ee:36:2e:93:09:f8:22:a8:f6:c6:
                        e9:81:53:43:64:dd:b3:fe:a8:97:ad:13:57:fd:5b:
                        46:4e:43:d5:ed:ae:38:7d:9e:5b:1c:75:6b:b8:0c:
                        6f:0e:7c:a5:a5:0c:49:a1:bb:42:05:69:49:4a:c6:
                        c8:44:61:47:31:cd:b3:f3:c7:94:cf:d3:66:20:e5:
                        94:28:61:a3:12:63:fb:eb:1f:0e:7d:11:e9:22:9b:
                        b1:45:20:a3:9f:4f:a2:f7:e8:51:da:c8:88:3a:97:
                        0c:38:67:7e:e3:4b:95:27:16:d1:44:fe:59:5e:75:
                        05:6b:67:c5:e4:55:9d:3b:4b:b4:44:f2:3c:1c:e3:
                        74:a2:f8:6b:c0:f2:58:fb:87:96:2a:44:33:c8:2e:
                        b5:d6:82:cf:60:64:38:11:b8:9f:46:c4:ec:0b:15:
                        19:ab:25:2e:4a:d1:b2:a7:ca:1a:6a:84:8a:7c:5e:
                        97:d3:e2:b3:1a:0c:30:9e:b8:d1:4d:4a:48:97:5f:
                        40:f7:62:91:d0:da:28:ea:1e:b6:d8:e5:fe:e2:c6:
                        62:3b:f2:50:76:4b:97:e7:0f:c7:ba:92:b4:03:43:
                        34:59:23:02:bd:4e:86:3a:18:c6:a2:d9:a1:d9:54:
                        c4:27:01:c7:63:8f:93:52:4d:22:41:84:6d:bf:57:
                        2b:38:d9:25:c9:9a:00:40:f0:fb:ea:10:ab:0b:c0:
                        ab:21:b8:2c:64:b7:d3:30:2f:13:59:4a:0c:6f:25:
                        03:82:f8:18:90:72:8c:a0:f9:b4:54:65:55:bb:0a:
                        51:28:9c:6f:ef:ed:b0:5c:ef:a9:8a:fa:eb:52:5d:
                        90:f5:f3:de:2a:4d:39:e6:72:4b:31:5f:72:3d:47:
                        62:83:ca:2d:85:42:ab:45:f4:b1:96:2f:78:e8:01:
                        15:d5:e1:0e:87:17:5d:7c:4c:01:13:72:ed:db:19:
                        f4:86:18:88:79:d6:db:16:d7:ff:e6:41:16:15:99:
                        17:c9:49:8c:24:af:11:6b:be:8a:ba:cd:80:06:e7:
                        94:54:47:19:e3:c8:6b:46:bd:47:7f:53:7d:9f:9f:
                        55:6d:35:1a:5e:07:a2:64:0e:74:a9:77:f6:6f:29:
                        84:e8:5f
                    Exponent: 65537 (0x10001)
            X509v3 extensions:
                X509v3 Key Usage: critical
                    Certificate Sign, CRL Sign
                X509v3 Basic Constraints: critical
                    CA:TRUE
                X509v3 Subject Key Identifier: 
                    C1:26:74:A4:8A:44:A0:E6:FA:20:28:D8:5C:23:9A:45:88:18:79:E0
        Signature Algorithm: sha256WithRSAEncryption
            42:3f:0e:f8:33:d5:ff:5f:1d:38:2b:55:40:11:2d:f2:a6:04:
            18:1f:96:df:f4:55:d5:0e:bc:21:44:54:95:72:4a:e2:6b:fe:
            dd:33:3a:05:e7:09:67:ba:af:4d:1a:c8:e4:92:40:e0:d7:b0:
            28:85:c4:1d:af:c6:a5:1f:82:ef:3d:dc:69:2a:bd:c1:8e:9b:
            c4:72:66:ea:17:cc:47:f8:c6:db:79:41:27:99:b4:9f:2c:8f:
            07:b1:e7:ee:85:71:7d:00:5f:fd:89:8b:e9:54:d0:bc:16:62:
            74:3a:18:95:bf:5d:d5:80:c4:30:d0:24:4a:91:bb:63:64:17:
            fc:c5:a1:21:ab:f6:2a:c5:65:6c:80:e8:e6:76:6e:42:01:0d:
            97:d1:a5:fb:e7:4d:b1:f3:06:11:80:c9:d9:84:0e:60:a0:2d:
            73:55:60:55:02:2f:32:86:19:a5:86:1a:03:51:f8:35:ed:c5:
            e4:99:a2:42:e6:90:dd:a1:e9:d9:f4:d5:61:5b:c7:83:6f:4d:
            cc:14:2a:d6:36:f2:21:f3:d0:c3:78:21:96:b9:67:c3:96:d0:
            ea:d2:7d:e8:c3:22:f4:21:e4:a7:ed:17:e9:49:c9:69:c5:59:
            95:ff:9d:e3:91:88:f0:22:0c:48:1b:b1:ac:bf:42:ca:31:bb:
            1f:e9:07:41:71:38:e1:bd:f6:72:30:8a:41:46:44:de:df:3b:
            87:77:67:de:2b:36:3d:94:49:1b:46:f4:50:cd:b8:78:3e:ce:
            58:06:71:ba:08:a2:4f:4d:b7:b6:85:f8:b7:9e:19:f0:fc:cc:
            84:98:5d:f3:6f:48:73:bc:b5:8d:ad:1f:57:5b:78:9b:6f:6a:
            0b:df:8d:b8:5c:ec:1c:56:3a:d3:48:22:f3:3b:d4:6f:ea:ce:
            70:8b:4d:ea:a1:6b:ca:01:04:00:12:5a:93:61:11:e1:ca:72:
            77:c3:ac:2e:bc:a6:05:e7:37:19:17:73:03:9e:b5:46:2d:b8:
            75:43:d7:8f:44:50:42:89:73:90:eb:03:cb:a1:48:6b:ad:b6:
            7c:2e:91:54:15:80:d7:1c:cb:58:33:b3:fd:b1:cf:48:01:6a:
            0e:35:74:44:25:a3:b4:f3:38:05:b4:ca:78:f2:2c:88:61:4c:
            90:01:bb:2f:c7:ca:03:d8:cf:24:46:fa:c8:45:2a:d1:25:29:
            7a:2f:de:7b:6f:80:05:88:b2:10:fc:68:15:d9:cb:ab:b3:48:
            e3:7b:b1:1d:c7:7e:1c:89:d5:b0:d5:5a:de:8e:dc:1c:96:86:
            ea:34:c5:6d:1b:71:22:3d:42:29:24:6a:5b:31:c2:60:6e:22:
            d2:98:a9:2b:bd:0b:46:9e
    -----BEGIN CERTIFICATE-----
    MIIFATCCAumgAwIBAgIRAKc9ZKBASymy5TLOEp57N98wDQYJKoZIhvcNAQELBQAw
    GjEYMBYGA1UEAwwPRmFrZSBMRSBSb290IFgxMB4XDTE2MDMyMzIyNTM0NloXDTM2
    MDMyMzIyNTM0NlowGjEYMBYGA1UEAwwPRmFrZSBMRSBSb290IFgxMIICIjANBgkq
    hkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA+pYHvQw5iU3v2b3iNuYNKYgsWD6KU7aJ
    diddtZQxSWYzUI3U0I1UsRPTxnhTifs/M9NW4ZlV13ZfB7APwC8oqKOIiwo7IwlP
    xg0VKgyz+kT8RJfYr66PPIYP0fpTeu42LpMJ+CKo9sbpgVNDZN2z/qiXrRNX/VtG
    TkPV7a44fZ5bHHVruAxvDnylpQxJobtCBWlJSsbIRGFHMc2z88eUz9NmIOWUKGGj
    EmP76x8OfRHpIpuxRSCjn0+i9+hR2siIOpcMOGd+40uVJxbRRP5ZXnUFa2fF5FWd
    O0u0RPI8HON0ovhrwPJY+4eWKkQzyC611oLPYGQ4EbifRsTsCxUZqyUuStGyp8oa
    aoSKfF6X0+KzGgwwnrjRTUpIl19A92KR0Noo6h622OX+4sZiO/JQdkuX5w/HupK0
    A0M0WSMCvU6GOhjGotmh2VTEJwHHY4+TUk0iQYRtv1crONklyZoAQPD76hCrC8Cr
    IbgsZLfTMC8TWUoMbyUDgvgYkHKMoPm0VGVVuwpRKJxv7+2wXO+pivrrUl2Q9fPe
    Kk055nJLMV9yPUdig8othUKrRfSxli946AEV1eEOhxddfEwBE3Lt2xn0hhiIedbb
    Ftf/5kEWFZkXyUmMJK8Ra76Kus2ABueUVEcZ48hrRr1Hf1N9n59VbTUaXgeiZA50
    qXf2bymE6F8CAwEAAaNCMEAwDgYDVR0PAQH/BAQDAgEGMA8GA1UdEwEB/wQFMAMB
    Af8wHQYDVR0OBBYEFMEmdKSKRKDm+iAo2FwjmkWIGHngMA0GCSqGSIb3DQEBCwUA
    A4ICAQBCPw74M9X/Xx04K1VAES3ypgQYH5bf9FXVDrwhRFSVckria/7dMzoF5wln
    uq9NGsjkkkDg17AohcQdr8alH4LvPdxpKr3BjpvEcmbqF8xH+MbbeUEnmbSfLI8H
    sefuhXF9AF/9iYvpVNC8FmJ0OhiVv13VgMQw0CRKkbtjZBf8xaEhq/YqxWVsgOjm
    dm5CAQ2X0aX7502x8wYRgMnZhA5goC1zVWBVAi8yhhmlhhoDUfg17cXkmaJC5pDd
    oenZ9NVhW8eDb03MFCrWNvIh89DDeCGWuWfDltDq0n3owyL0IeSn7RfpSclpxVmV
    /53jkYjwIgxIG7Gsv0LKMbsf6QdBcTjhvfZyMIpBRkTe3zuHd2feKzY9lEkbRvRQ
    zbh4Ps5YBnG6CKJPTbe2hfi3nhnw/MyEmF3zb0hzvLWNrR9XW3ibb2oL3424XOwc
    VjrTSCLzO9Rv6s5wi03qoWvKAQQAElqTYRHhynJ3w6wuvKYF5zcZF3MDnrVGLbh1
    Q9ePRFBCiXOQ6wPLoUhrrbZ8LpFUFYDXHMtYM7P9sc9IAWoONXREJaO08zgFtMp4
    8iyIYUyQAbsvx8oD2M8kRvrIRSrRJSl6L957b4AFiLIQ/GgV2curs0jje7Edx34c
    idWw1VrejtwclobqNMVtG3EiPUIpJGpbMcJgbiLSmKkrvQtGng==
    -----END CERTIFICATE-----
